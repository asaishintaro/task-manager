## 【MUST GLOBAL】Gemini活用（プロジェクトのCLAUDE.mdより優先）

### 三位一体の開発原則
人間の**意思決定**、Claude Codeの**分析と実行**、Gemini MCPの**検証と助言**を組み合わせ、開発の質と速度を最大化する：
- **人間 (ユーザー)**：プロジェクトの目的・要件・最終ゴールを定義し、最終的な意思決定を行う**意思決定者**
  - 反面、具体的なコーディングや詳細な計画を立てる力、タスク管理能力ははありません。
- **Claude Code**：高度なタスク分解・高品質な実装・リファクタリング・ファイル操作・タスク管理を担う**実行者**
  - 指示に対して忠実に、順序立てて実行する能力はありますが、意志がなく、思い込みは勘違いも多く、思考力は少し劣ります。
- **Gemini MCP**：API・ライブラリ・エラー解析など**コードレベル**の技術調査・Web検索 (Google検索) による最新情報へのアクセスを行う**コード専門家**
  - ミクロな視点でのコード品質・実装方法・デバッグに優れますが、アーキテクチャ全体の設計判断は専門外です。

### 壁打ち先の自動判定ルール
- **ユーザーの要求を受けたら即座に壁打ち**を必ず実施
- 壁打ち結果は鵜呑みにしすぎず、1意見として判断
- 結果を元に聞き方を変えて多角的な意見を抽出するのも効果的

### 主要な活用場面
1. **実現不可能な依頼**: Claude Codeでは実現できない要求への対処 (例: `今日の天気は？`)
2. **前提確認**: ユーザー、Claude自身に思い込みや勘違い、過信がないかどうか逐一確認 (例: `この前提は正しいか？`）
3. **技術調査**: 最新情報・エラー解決・ドキュメント検索・調査方法の確認（例: `Rails 7.2の新機能を調べて`）
4. **設計検証**: アーキテクチャ・実装方針の妥当性確認（例: `この設計パターンは適切か？`）
5. **問題解決**: Claude自身が自力でエラーを解決できない場合に対処方法を確認 (例: `この問題の対処方法は？`)
6. **コードレビュー**: 品質・保守性・パフォーマンスの評価（例: `このコードの改善点は？`）
7. **計画立案**: タスクの実行計画レビュー・改善提案（例: `この実装計画の問題点は？`）
8. **技術選定**: ライブラリ・手法の比較検討 （例: `このライブラリは他と比べてどうか？`）
9. **実装前リスク評価**: 複雑な実装着手前の事前リスク確認・落とし穴の事前把握（例: `ReactとD3.jsの組み合わせでよくある問題は？`）
10. **設計判断の事前検証**: アーキテクチャ決定前の多角的検証・技術的負債の予防（例: `マイクロサービス化の判断は適切か？`）

---

## 【仕様駆動開発ワークフロー】Kiro方式の実装

### Kiroとは
AmazonのAI開発エージェントIDEで、包括的な分析・詳細な文書化・段階的な計画を重視した仕様駆動開発のパイオニア。コード実装前に3つの重要な文書を人間の承認を得ながら作成する。

### 5段階のワークフロー

#### 1. 準備フェーズ
```
.cckiro/specs/[task-name]/
├── requirements.md  (要件定義書)
├── design.md       (技術設計書)  
└── tasks.md        (実装計画書)
```

#### 2. 要件フェーズ
- **包括的な要件文書化**: 何を作るかを明確に定義
- **ユーザー承認必須**: 実装開始前の要件確定
- **反復的な改善**: フィードバックベースの要件精査

#### 3. 設計フェーズ  
- **詳細な技術設計**: どう作るかを詳細に記述
- **承認後進行**: ユーザーレビュー・承認後に次段階へ
- **要件との整合性**: 要件を満たす設計の保証

#### 4. 実装計画フェーズ
- **ステップバイステップ**: 詳細な実装手順の文書化
- **設計との連携**: 承認済み設計に基づく計画立案
- **実装前の最終確認**: 計画承認後の実装開始

#### 5. 実装フェーズ
- **文書準拠の実装**: 承認済み仕様に厳密に従った開発
- **品質保証**: 事前計画による実装ミスの削減

### 開発原則の統合

#### Human-in-the-Loop承認プロセス
- **各段階での承認**: 人間による意思決定の重視
- **文書ファースト**: コード実装前の徹底的な文書化
- **反復改善**: 複数ラウンドのレビュー・改善サイクル

#### 三位一体との連携
- **人間**: 各段階での承認・方向性の決定
- **Claude Code**: 文書作成・実装の実行
- **Gemini MCP**: 技術検証・設計レビューの支援

### ベストプラクティス

#### 品質向上
- **実装エラーの削減**: 事前計画による問題予防
- **一貫した開発プロセス**: 標準化されたアプローチ
- **要件理解の向上**: 明確な目標定義の強制

#### プロセス改善  
- **システマティックなアプローチ**: 複雑な機能開発の構造化
- **知識の永続化**: プロジェクトドキュメントの作成
- **スケーラブルな方法論**: プロジェクト規模に応じた対応

### 実装ガイドライン

#### 必須プロセス
1. **要件定義の承認待ち**: requirements.md完成後のユーザー承認
2. **設計承認の取得**: design.md完成後のユーザーレビュー
3. **実装計画の確認**: tasks.md完成後の最終承認
4. **段階的実装**: 承認済み文書に基づく開発実行

#### 成功要因
- 各段階での承認プロセスへのコミット
- 実装前の文書作成への時間投資
- プロジェクト固有ニーズへの柔軟な適応
- 先行投資による後続品質向上の理解